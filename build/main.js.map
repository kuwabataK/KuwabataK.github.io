{"version":3,"sources":["../../src/model/AppModel.ts","../../src/providers/storage/storage.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/main/main.ts","../../src/pages/deck/deck.ts","../../src/providers/calc/calc.ts","../../src/providers/util/util.ts","../../src/pages/supply/supply.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["export class Card {\r\n    name: string = ''\r\n    type: string = 'money'\r\n    money_point: number = 0 // 出力できる金量\r\n    action_point: number = 0 // アクションポイント\r\n    draw_num: number = 0 // \r\n}\r\n\r\nexport class Field_Status{\r\n    action_point: number = 1 // 残りのアクションポイント\r\n    money_point: number = 0\r\n    hands: Card[] = []\r\n    deck: Card[] = []\r\n    deck_index: Card_Index[] = []\r\n}\r\n\r\n/**\r\n * 表示用のカードの束、カードの名前と枚数を格納する\r\n */\r\nexport class Card_Index {\r\n    card: Card = new Card\r\n    cnt: number = 0\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/AppModel.ts","import { Injectable } from '@angular/core';\r\nimport { Storage } from '../../../node_modules/@ionic/storage';\r\nimport { Field_Status, Card } from '../../model/AppModel';\r\nimport _ from 'lodash'\r\nimport { UtilProvider } from '../util/util';\r\n\r\n\r\n/*\r\n  Generated class for the StorageProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class StorageProvider {\r\n\r\n  constructor(\r\n    private storage: Storage,\r\n    private util: UtilProvider,\r\n  ) {\r\n  }\r\n\r\n  async get_field_status(): Promise<Field_Status> {\r\n    const res = await this.storage.get('Field_Status')\r\n    return (res == null ? new Field_Status : res)\r\n  }\r\n\r\n  async set_field_status(f_s: Field_Status) {\r\n    const deck = this.util.sort_card(f_s.deck)\r\n    const deck_index = this.util.sort_card_index(f_s.deck_index)\r\n    const new_f: Field_Status = {\r\n      action_point: f_s.action_point,\r\n      deck: deck,\r\n      deck_index: deck_index,\r\n      money_point: f_s.money_point,\r\n      hands: f_s.hands\r\n    }\r\n    await this.storage.set('Field_Status', new_f)\r\n    return new_f\r\n  }\r\n\r\n  async get_supply() {\r\n    const res = await this.storage.get('Supply')\r\n    const first_supply: Card[] =[{\r\n      name: \"屋敷\",\r\n      type: 'money',\r\n      money_point: 0,\r\n      action_point: 0,\r\n      draw_num: 0\r\n    },\r\n    {\r\n      name: \"銅貨\",\r\n      type: 'money',\r\n      money_point: 1,\r\n      action_point: 0,\r\n      draw_num: 0\r\n    },\r\n    {\r\n      name: \"銀貨\",\r\n      type: 'money',\r\n      money_point: 2,\r\n      action_point: 0,\r\n      draw_num: 0\r\n    },\r\n    {\r\n      name: \"金貨\",\r\n      type: 'money',\r\n      money_point: 3,\r\n      action_point: 0,\r\n      draw_num: 0\r\n    }]\r\n    return (res == null ? first_supply : res)\r\n  }\r\n\r\n  async set_supply(supply: Card[]) {\r\n    const n_supply = this.util.sort_card(supply)\r\n    await this.storage.set('Supply', n_supply)\r\n    return n_supply\r\n  }\r\n\r\n  async add_card_to_deck(card: Card, field_status: Field_Status) {\r\n    let new_f: Field_Status = JSON.parse(JSON.stringify(field_status))\r\n    new_f.deck.push(card)\r\n    const same_card = new_f.deck_index.filter((val) => { return val.card.name === card.name })\r\n    if (same_card.length === 0) {\r\n      new_f.deck_index.push({\r\n        card: card,\r\n        cnt: 1\r\n      })\r\n    } else {\r\n      same_card[0].cnt += 1\r\n      new_f.deck_index = new_f.deck_index.filter((val) => { return val.card.name !== card.name }).concat(same_card)\r\n    }\r\n\r\n    return await this.set_field_status(new_f)\r\n  }\r\n\r\n  async remove_card_from_deck(card: Card, field_status: Field_Status) {\r\n    let new_f: Field_Status = JSON.parse(JSON.stringify(field_status))\r\n    let same_card = new_f.deck_index.filter((val) => { return val.card.name === card.name })\r\n    if (same_card.length === 0) { return new_f }\r\n\r\n    // deckからカードを削除\r\n    let c = new_f.deck.filter((val) => { return val.name !== card.name })\r\n    let r_c = new_f.deck.filter((val) => { return val.name === card.name })\r\n    r_c.pop()\r\n    new_f.deck = c.concat(r_c)\r\n\r\n    // deck_indexからカードを削除\r\n    if (same_card[0].cnt >= 2) {\r\n      same_card[0].cnt -= 1\r\n    } else {\r\n      same_card[0].cnt = 0\r\n    }\r\n    new_f.deck_index = new_f.deck_index.filter((val) => { return val.card.name !== card.name }).concat(same_card)\r\n    return await this.set_field_status(new_f)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/storage.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 146;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 146\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 190;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 190\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController } from 'ionic-angular';\r\nimport { DeckPage } from '../deck/deck';\r\nimport { SupplyPage } from '../supply/supply';\r\n\r\n\r\n/**\r\n * Generated class for the MainPage tabs.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n// @IonicPage()\r\n@Component({\r\n  selector: 'page-main',\r\n  templateUrl: 'main.html'\r\n})\r\nexport class MainPage {\r\n\r\n  deckRoot = DeckPage\r\n  supplyRoot = SupplyPage\r\n\r\n\r\n  constructor(public navCtrl: NavController) {}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main/main.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController } from 'ionic-angular';\r\nimport { Card, Field_Status } from '../../model/AppModel';\r\nimport { CalcProvider } from '../../providers/calc/calc';\r\nimport { StorageProvider } from '../../providers/storage/storage';\r\n\r\n\r\n/**\r\n * Generated class for the DeckPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n// @IonicPage()\r\n@Component({\r\n  selector: 'page-deck',\r\n  templateUrl: 'deck.html',\r\n})\r\nexport class DeckPage {\r\n\r\n  panelOpenState = false;\r\n\r\n  field_status: Field_Status = new Field_Status\r\n  deck_length: number = 0\r\n  total_money = 0\r\n  avarage_money: number = 0\r\n  max_money: number = 0\r\n  min_money = 0\r\n\r\n\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private calc: CalcProvider,\r\n    private storage: StorageProvider,\r\n    private alertCtrl: AlertController,\r\n    public loadingCtrl: LoadingController\r\n  ) {\r\n  }\r\n\r\n  async ionViewDidLoad() {\r\n    this.field_status = await this.storage.get_field_status()\r\n    this.calc_money(100)\r\n  }\r\n  async ionViewWillEnter() {\r\n    this.field_status = await this.storage.get_field_status()\r\n    this.deck_length = this.field_status.deck.length\r\n\r\n  }\r\n\r\n\r\n  async calc_money(count: number) {\r\n\r\n    let loading = this.loadingCtrl.create({\r\n      content: 'Please wait...'\r\n    });\r\n\r\n    loading.present();\r\n\r\n    const f_a = Array(count).fill('').map(() => {\r\n      return this.calc.follow_turn(this.field_status)\r\n    })\r\n\r\n    let total_money = 0\r\n    const mp_a = f_a.map((val) => {\r\n      total_money += val.money_point\r\n      return val.money_point\r\n    })\r\n    this.deck_length = this.field_status.deck.length\r\n    this.avarage_money = total_money / count\r\n    this.max_money = Math.max(...mp_a)\r\n    this.min_money = Math.min(...mp_a)\r\n\r\n    loading.dismiss();\r\n\r\n  }\r\n\r\n  async delete_card(card: Card) {\r\n    this.field_status = await this.storage.remove_card_from_deck(card, this.field_status)\r\n    this.deck_length = this.field_status.deck.length\r\n  }\r\n\r\n  async add_card(card: Card) {\r\n    this.field_status = await this.storage.add_card_to_deck(card, this.field_status)\r\n    this.deck_length = this.field_status.deck.length\r\n  }\r\n\r\n  async delete_all() {\r\n\r\n    let alert = this.alertCtrl.create({\r\n      title: '確認',\r\n      message: '本当に削除してよろしいですか?',\r\n      buttons: [\r\n        {\r\n          text: 'キャンセル',\r\n          role: 'cancel',\r\n          handler: () => {\r\n          }\r\n        },\r\n        {\r\n          text: '実行',\r\n          handler: () => {\r\n            this.field_status.deck = []\r\n            this.field_status.deck_index = []\r\n            this.deck_length = this.field_status.deck.length\r\n            this.storage.set_field_status(this.field_status)\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/deck/deck.ts","import { Injectable } from '@angular/core';\r\nimport { Card, Field_Status } from '../../model/AppModel';\r\nimport _ from 'lodash'\r\n\r\n\r\n/*\r\n  Generated class for the CalcProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class CalcProvider {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   * ターンを進めます\r\n   * @param field_status \r\n   */\r\n  follow_turn(field_status: Field_Status): Field_Status {\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n\r\n    new_f = this.generate_first_hands(new_f)\r\n    new_f = this.exec_action(new_f)\r\n    new_f = this.exec_money(new_f)\r\n    return new_f\r\n  }\r\n\r\n  /**\r\n   * 最初の手札５枚を引きます\r\n   * \r\n   * @param field_status 初期デッキ\r\n   */\r\n  private generate_first_hands(field_status: Field_Status): Field_Status {\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n\r\n\r\n    new_f = this.drawCard(5, new_f)\r\n    return new_f\r\n  }\r\n\r\n  /**\r\n   * 金貨の支払いを実行します\r\n   * @param field_status \r\n   */\r\n  private exec_money(field_status: Field_Status): Field_Status {\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n\r\n    new_f.hands.map((card) => {\r\n      if (card.type === 'money') {\r\n        new_f.money_point += card.money_point\r\n      }\r\n    })\r\n    return new_f\r\n  }\r\n\r\n  /**\r\n   * アクションフェイズを実行します。\r\n   * \r\n   * @param hands \r\n   */\r\n  private exec_action(field_status: Field_Status): Field_Status {\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n    while (new_f.action_point > 0) {\r\n      if (new_f.hands.length === 0) { break; }\r\n      const action_hands = new_f.hands.filter((val) => { return val.type === 'action' })\r\n      if (action_hands.length === 0) { break; }\r\n      // アクションポイント順に並び替える\r\n      new_f.hands.sort((a, b) => { return b.action_point - a.action_point })\r\n      // アクションカードを先頭に持ってくる\r\n      new_f.hands.sort((a, b) => {\r\n        if (a.type < b.type) {\r\n          return -1\r\n        }\r\n        if (a.type > b.type) {\r\n          return 1\r\n        }\r\n        return 0\r\n      })\r\n\r\n      // 先頭のアクションを実行\r\n      new_f = this.execOneActionCard(action_hands[0], new_f)\r\n      // console.log(new_f.action_point)\r\n      console.log(new_f.money_point)\r\n    }\r\n    return new_f\r\n  }\r\n\r\n  /**\r\n   * 第二引数に入れた手札に対して第一引数のカードを実行します。\r\n   * 残りのカードを第３引数で指定します。\r\n   * 引数は変更しません\r\n   * \r\n   * @param card \r\n   * @param fiels_status\r\n   */\r\n  private execOneActionCard(card: Card, field_status: Field_Status): Field_Status {\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n\r\n\r\n    // 定性的な処理\r\n    new_f.money_point += card.money_point\r\n    new_f.action_point -= 1\r\n    new_f.action_point += card.action_point\r\n    // ドローする\r\n    if (card.draw_num > 0) {\r\n      new_f = this.drawCard(card.draw_num, new_f)\r\n    }\r\n    // 手札を減らす\r\n    new_f.hands.shift()\r\n    return new_f\r\n  }\r\n\r\n  /**\r\n   * 指定した枚数のカードをデッキから引いて、結果を返します\r\n   * 引数は変更しません\r\n   * \r\n   * @param num \r\n   * @param deck \r\n   */\r\n  private drawCard(num: number, field_status: Field_Status): Field_Status {\r\n    if (field_status.deck.length === 0) { return field_status }\r\n    if (num === 0) { return field_status }\r\n    let new_f: Field_Status = _.cloneDeep(field_status)\r\n\r\n\r\n    if (num >= new_f.deck.length) {\r\n      new_f.hands = new_f.hands.concat(new_f.deck)\r\n      new_f.deck = []\r\n      return new_f\r\n    }\r\n\r\n    Array(num).fill('').map(() => {\r\n      let index = Math.floor(Math.random() * new_f.deck.length)\r\n      new_f.hands.push(new_f.deck[index])\r\n      new_f.deck = new_f.deck.filter((val, i) => { return i !== index })\r\n    })\r\n    return new_f\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/calc/calc.ts","import { Injectable } from '@angular/core';\r\nimport { StorageProvider } from '../storage/storage';\r\nimport { Card, Card_Index } from '../../model/AppModel';\r\nimport _ from 'lodash'\r\n\r\n\r\n/*\r\n  Generated class for the UtilProvider provider.\r\n\r\n  See https://angular.io/guide/dependency-injection for more info on providers\r\n  and Angular DI.\r\n*/\r\n@Injectable()\r\nexport class UtilProvider {\r\n\r\n  constructor(\r\n  ) {\r\n  }\r\n\r\n  sort_card(card: Card[]) {\r\n    let c: Card[] = _.cloneDeep(card)\r\n    c.sort((a, b) => {\r\n      if (a.name < b.name) { return -1 }\r\n      if (a.name > b.name) { return 1 }\r\n      return 0\r\n    })\r\n    return c\r\n  }\r\n\r\n  sort_card_index(card: Card_Index[]) {\r\n    let c: Card_Index[] = _.cloneDeep(card)\r\n    c.sort((a, b) => {\r\n      if (a.card.name < b.card.name) { return -1 }\r\n      if (a.card.name > b.card.name) { return 1 }\r\n      return 0\r\n    })\r\n    return c\r\n  }\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/util/util.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Card, Field_Status } from '../../model/AppModel';\r\nimport { StorageProvider } from '../../providers/storage/storage';\r\n\r\n\r\n/**\r\n * Generated class for the SupplyPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n// @IonicPage()\r\n@Component({\r\n  selector: 'page-supply',\r\n  templateUrl: 'supply.html',\r\n})\r\nexport class SupplyPage {\r\n\r\n  supply: Card[] = []\r\n  field_status: Field_Status = new Field_Status\r\n  new_card: Card = new Card()\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private storage: StorageProvider,\r\n  ) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.init()\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.init()\r\n  }\r\n\r\n  async init() {\r\n    this.supply = await this.storage.get_supply()\r\n    this.field_status = await this.storage.get_field_status()\r\n  }\r\n\r\n  async add_card() {\r\n    const new_c = this.new_card\r\n    if (new_c.name === \"\") {\r\n      return\r\n    }\r\n\r\n    // 同じ名前のカードは追加できなくする\r\n    const same_cards = this.supply.filter((val) => { return val.name === new_c.name })\r\n    if (same_cards.length !== 0) {\r\n      return\r\n    }\r\n    this.supply.push(new_c)\r\n    await this.storage.set_supply(this.supply)\r\n    this.new_card = new Card()\r\n  }\r\n\r\n  async add_card_to_deck(card: Card) {\r\n    this.field_status = await this.storage.add_card_to_deck(card, this.field_status)\r\n  }\r\n\r\n  async remove_card(card: Card) {\r\n    this.supply = this.supply.filter((val) => { return val.name !== card.name })\r\n    await this.storage.set_supply(this.supply)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supply/supply.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { CalcProvider } from '../providers/calc/calc';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatExpansionModule, MatFormFieldModule, MatRippleModule, MatInputModule, MatButtonModule } from '@angular/material';\r\nimport { MainPage } from '../pages/main/main';\r\nimport { DeckPage } from '../pages/deck/deck';\r\nimport { SupplyPage } from '../pages/supply/supply';\r\nimport { StorageProvider } from '../providers/storage/storage';\r\nimport { UtilProvider } from '../providers/util/util';\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    MainPage,\r\n    DeckPage,\r\n    SupplyPage,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot(),\r\n    BrowserAnimationsModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatRippleModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    // MatAccordion\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    MainPage,\r\n    DeckPage,\r\n    SupplyPage,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    CalcProvider,\r\n    DeckPage,\r\n    StorageProvider,\r\n    UtilProvider,\r\n\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { MainPage } from '../pages/main/main';\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any = MainPage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}